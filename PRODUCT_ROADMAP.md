# –ü–ª–∞–Ω –ø—Ä–æ–¥—É–∫—Ç–æ–≤–æ–π –¥–æ—Ä–∞–±–æ—Ç–∫–∏: Starter Story RAG Bot

–î–æ–∫—É–º–µ–Ω—Ç –æ–ø–∏—Å—ã–≤–∞–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ä–∞–∑–≤–∏—Ç–∏—è –ø—Ä–æ–¥—É–∫—Ç–∞, –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—Ä–∏–µ–Ω—Ç–∏—Ä—ã.

---

## 1. Telegram Mini App –≤–º–µ—Å—Ç–æ –æ–±—ã—á–Ω–æ–≥–æ –±–æ—Ç–∞

**–¶–µ–ª—å:** –í—ã–≤–µ—Å—Ç–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ —Ñ–æ—Ä–º–∞—Ç–µ Mini App (–≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤–Ω—É—Ç—Ä–∏ Telegram).

**–ó–∞—á–µ–º:**
- –ï–¥–∏–Ω—ã–π —ç–∫—Ä–∞–Ω: –≤–æ–ø—Ä–æ—Å + –æ—Ç–≤–µ—Ç + –¥–æ–ø. —ç–ª–µ–º–µ–Ω—Ç—ã (–∏—Å—Ç–æ—á–Ω–∏–∫–∏, –æ—Ü–µ–Ω–∫–∞) –±–µ–∑ –ø—Ä–æ–∫—Ä—É—Ç–∫–∏ —á–∞—Ç–∞.
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –±–æ–≥–∞—Ç–æ–≥–æ UI (–∫–∞—Ä—Ç–æ—á–∫–∏, –∫–Ω–æ–ø–∫–∏, –ø—Ä–µ–≤—å—é —Å—Ç–∞—Ç–µ–π).
- –£–¥–æ–±–Ω–µ–µ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ –∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (React/Vue –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ–π HTML+JS), –æ—Ç–∫—Ä—ã–≤–∞–µ–º–æ–µ –ø–æ —Å—Å—ã–ª–∫–µ –∏–ª–∏ –∫–Ω–æ–ø–∫–µ –º–µ–Ω—é –±–æ—Ç–∞.
- –ü–æ–¥–∫–ª—é—á–∏—Ç—å Web App –∫ –±–æ—Ç—É: –∫–æ–º–∞–Ω–¥–∞ `/app` –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ ¬´–û—Ç–∫—Ä—ã—Ç—å¬ª –≤ –º–µ–Ω—é/–ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–∏.
- Mini App –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –±—ç–∫–µ–Ω–¥ (—Ç–µ–∫—É—â–∏–π RAG-—Å–µ—Ä–≤–∏—Å –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—ã–π API), –ø–æ–ª—É—á–∞–µ—Ç –æ—Ç–≤–µ—Ç –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –µ–≥–æ –≤ —Å–≤–æ—ë–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ.
- –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –±–æ—Ç–æ–º –∏ –≤ –æ–±—ã—á–Ω–æ–º —á–∞—Ç–µ (–¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –ø—Ä–∏–≤—ã–∫).

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ë—ç–∫–µ–Ω–¥ –¥–æ–ª–∂–µ–Ω –æ—Ç–¥–∞–≤–∞—Ç—å API (REST –∏–ª–∏ WebSocket) –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏–∑ Mini App; –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram WebApp initData.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π (–º–µ–Ω—è–µ—Ç —Å–ø–æ—Å–æ–± –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è).

---

## 2. –ü—Ä–∏—è—Ç–Ω—ã–π UI

**–¶–µ–ª—å:** –°–¥–µ–ª–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —É–¥–æ–±–Ω—ã–º –∏ –≤–∏–∑—É–∞–ª—å–Ω–æ –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–º.

**–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ –±–æ—Ç–∞ (—á–∞—Ç):**
- –ï–¥–∏–Ω—ã–π —Å—Ç–∏–ª—å —Å–æ–æ–±—â–µ–Ω–∏–π: –∑–∞–≥–æ–ª–æ–≤–∫–∏, —Å–ø–∏—Å–∫–∏, –±–ª–æ–∫–∏ ¬´–ò—Å—Ç–æ—á–Ω–∏–∫–∏¬ª –≤ –∫–æ–Ω—Ü–µ –æ—Ç–≤–µ—Ç–∞.
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —É–∂–µ –∏–º–µ—é—â–µ–µ—Å—è HTML-—Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (`<b>`, `<i>`, `<code>`), –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ ‚Äî —Ä–∞–∑–º–µ—Ç–∫—É –∫–Ω–æ–ø–æ–∫ (inline keyboard –¥–ª—è ¬´–ü–æ–ª–µ–∑–Ω–æ / –ù–µ –ø–æ–ª–µ–∑–Ω–æ¬ª).
- –ö–æ—Ä–æ—Ç–∫–æ–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –ø–æ–¥—Å–∫–∞–∑–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–∏–º–µ—Ä—ã –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ–¥ `/start`).

**–í –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ Mini App:**
- –õ–∞–∫–æ–Ω–∏—á–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞: –ø–æ–ª–µ –≤–≤–æ–¥–∞, –∫–Ω–æ–ø–∫–∞ ¬´–°–ø—Ä–æ—Å–∏—Ç—å¬ª, –æ–±–ª–∞—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ —Å —á—ë—Ç–∫–æ–π —Ç–∏–ø–æ–≥—Ä–∞—Ñ–∏–∫–æ–π.
- –ë–ª–æ–∫ ¬´–ò—Å—Ç–æ—á–Ω–∏–∫–∏¬ª (—Å—Å—ã–ª–∫–∏ –∏–ª–∏ –Ω–∞–∑–≤–∞–Ω–∏—è —Ñ–∞–π–ª–æ–≤ –∏–∑ RAG).
- –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ç—ë–º–Ω—É—é/—Å–≤–µ—Ç–ª—É—é —Ç–µ–º—É Telegram (–ø–æ–ª—É—á–µ–Ω–∏–µ —Ç–µ–º—ã –∏–∑ `Telegram.WebApp.themeParams`).
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–µ ¬´–ø–µ—á–∞—Ç–∞–µ—Ç‚Ä¶¬ª –≤–æ –≤—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π (–≤–ª–∏—è–µ—Ç –Ω–∞ —É–¥–µ—Ä–∂–∞–Ω–∏–µ –∏ –≤–æ—Å–ø—Ä–∏—è—Ç–∏–µ —Å–µ—Ä–≤–∏—Å–∞).

---

## 3. –û—Ü–µ–Ω–∫–∞ –æ—Ç–≤–µ—Ç–∞: –ª–∞–π–∫ / –¥–∏–∑–ª–∞–π–∫

**–¶–µ–ª—å:** –î–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–º–µ—Ç–∏—Ç—å, –±—ã–ª –ª–∏ –æ—Ç–≤–µ—Ç –ø–æ–ª–µ–∑–µ–Ω; –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –¥–æ—Ä–∞–±–æ—Ç–∫–∏.

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –ü–æ–¥ –∫–∞–∂–¥—ã–º –æ—Ç–≤–µ—Ç–æ–º –±–æ—Ç–∞ ‚Äî inline-–∫–Ω–æ–ø–∫–∏: ¬´üëç –ü–æ–ª–µ–∑–Ω–æ¬ª –∏ ¬´üëé –ù–µ –ø–æ–ª–µ–∑–Ω–æ¬ª (–∏–ª–∏ –∏–∫–æ–Ω–∫–∏ –±–µ–∑ —Ç–µ–∫—Å—Ç–∞).
- –û–±—Ä–∞–±–æ—Ç–∫–∞ callback: –ø–æ –Ω–∞–∂–∞—Ç–∏—é —Å–æ—Ö—Ä–∞–Ω—è—Ç—å –≤ –ª–æ–≥/–ë–î: `chat_id`, `message_id`, —Ç–∏–ø –æ—Ü–µ–Ω–∫–∏ (like/dislike), –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ ‚Äî `query`, timestamp.
- –û–¥–∏–Ω –≥–æ–ª–æ—Å –Ω–∞ –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ (–ø–æ—Å–ª–µ –Ω–∞–∂–∞—Ç–∏—è –∫–Ω–æ–ø–∫–∏ –º–æ–∂–Ω–æ —Å–∫—Ä—ã—Ç—å –∏–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å ¬´–°–ø–∞—Å–∏–±–æ¬ª).
- –ù–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å—Ä–∞–∑—É —Å—Ç—Ä–æ–∏—Ç—å –¥–∞—à–±–æ—Ä–¥—ã ‚Äî –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –ª–æ–≥–∞ –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ–π —Ç–∞–±–ª–∏—Ü—ã (SQLite/—Ñ–∞–π–ª) –¥–ª—è –ø–æ—Å–ª–µ–¥—É—é—â–µ–≥–æ —Ä–∞–∑–±–æ—Ä–∞.

**–†–∞—Å—à–∏—Ä–µ–Ω–∏—è (–ø–æ–∑–∂–µ):** –æ–ø—Ä–æ—Å ¬´–ü–æ—á–µ–º—É –Ω–µ –ø–æ–ª–µ–∑–Ω–æ?¬ª (–º–∞–ª–æ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, –Ω–µ –ø–æ —Ç–µ–º–µ, –æ—à–∏–±–∫–∞), —É—á—ë—Ç –æ—Ü–µ–Ω–æ–∫ –≤ –º–µ—Ç—Ä–∏–∫–∞—Ö –∫–∞—á–µ—Å—Ç–≤–∞ –∏ –≤ –ø–æ–¥–±–æ—Ä–µ MIN_RELEVANCE_SCORE / –ø—Ä–æ–º–ø—Ç–∞.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π (–ø—Ä—è–º–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π).

---

## 4. –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤

**–¶–µ–ª—å:** –ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –ª–æ–≥–æ–≤ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏, –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞.

**–ß—Ç–æ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å (–±–µ–∑ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö, –µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω–∞ –æ—Ç–ª–∞–¥–∫–∞):**
- `timestamp`, `level` (info/error).
- –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞: `chat_id`, `message_id`, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ—Ç–≤–µ—Ç–∞ (–º—Å), –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö —á–∞–Ω–∫–æ–≤, –º–∏–Ω/–º–∞–∫—Å score —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç–∏, —Ñ–∞–∫—Ç —É—Å–ø–µ—Ö–∞ –∏–ª–∏ —Ç–∏–ø –æ—à–∏–±–∫–∏.
- –î–ª—è –æ—à–∏–±–æ–∫: –∫—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ (–±–µ–∑ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞/–æ—Ç–≤–µ—Ç–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

**–§–æ—Ä–º–∞—Ç:** JSON-—Å—Ç—Ä–æ–∫–∏ –≤ stdout (–æ–¥–∏–Ω –æ–±—ä–µ–∫—Ç –Ω–∞ —Å—Ç—Ä–æ–∫—É) ‚Äî —É–¥–æ–±–Ω–æ –ø–∞—Ä—Å–∏—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤ —Å–∏—Å—Ç–µ–º—ã –ª–æ–≥–æ–≤ (journald, Loki, CloudWatch –∏ —Ç.–¥.).

**–û—Ç–¥–µ–ª—å–Ω–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):** –ª–æ–≥ ¬´–æ—Ç–≤–µ—Ç–æ–≤¬ª –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª –∏–ª–∏ —Ç–∞–±–ª–∏—Ü—É: `chat_id`, `message_id`, –¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞, –æ—Ü–µ–Ω–∫–∞ (–µ—Å–ª–∏ –±—ã–ª–∞), —á—Ç–æ–±—ã —Å–≤—è–∑—ã–≤–∞—Ç—å —Å –ª–∞–π–∫–∞–º–∏/–¥–∏–∑–ª–∞–π–∫–∞–º–∏.

**–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:** –æ–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ —Ç–µ–∫—É—â–∏–º `logging`: –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º RAG –∏ –ø–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞ –ø–∏—Å–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –∑–∞–ø–∏—Å—å (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ `logging.LoggerAdapter` –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é —Å –ø–æ–ª—è–º–∏ –≤ `extra`).

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** –≤—ã—Å–æ–∫–∏–π (–Ω—É–∂–Ω–æ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏ –∏ —Å–ª–µ–¥—É—é—â–∏—Ö –ø—É–Ω–∫—Ç–æ–≤ –ø–ª–∞–Ω–∞).

---

## 5. –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ —á–∞—Ç—É –∏ —Å–±—Ä–æ—Å

**–¶–µ–ª—å:** –ê–≥–µ–Ω—Ç ¬´–ø–æ–º–Ω–∏—Ç¬ª –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –≤–æ–ø—Ä–æ—Å—ã/–æ—Ç–≤–µ—Ç—ã –≤ —Ä–∞–º–∫–∞—Ö –¥–∏–∞–ª–æ–≥–∞ –∏ —É–º–µ–µ—Ç –æ–ø–∏—Ä–∞—Ç—å—Å—è –Ω–∞ –∫–æ–Ω—Ç–µ–∫—Å—Ç; –ø—Ä–∏ —ç—Ç–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –∏–ª–∏ —Ä–∞–∑–º–µ—Ä—É –∏ –µ–≥–æ –º–æ–∂–Ω–æ —Å–±—Ä–æ—Å–∏—Ç—å.

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –•—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–∏–∞–ª–æ–≥–∞ –ø–æ `chat_id`: –ø–æ—Å–ª–µ–¥–Ω–∏–µ N –ø–∞—Ä (–≤–æ–ø—Ä–æ—Å, –æ—Ç–≤–µ—Ç) –∏–ª–∏ –ø–æ—Å–ª–µ–¥–Ω–∏–µ M —Ç–æ–∫–µ–Ω–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 2‚Äì4 —Ç—ã—Å. —Ç–æ–∫–µ–Ω–æ–≤).
- –ü—Ä–∏ —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –∫ LLM –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –Ω–µ —Ç–æ–ª—å–∫–æ —Ç–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å –∏ RAG-–∫–æ–Ω—Ç–µ–∫—Å—Ç, –Ω–æ –∏ —Å–∂–∞—Ç—ã–π –¥–∏–∞–ª–æ–≥ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ¬´–ü—Ä–µ–¥—ã–¥—É—â–∏–π –≤–æ–ø—Ä–æ—Å: ‚Ä¶ –û—Ç–≤–µ—Ç: ‚Ä¶ –¢–µ–∫—É—â–∏–π –≤–æ–ø—Ä–æ—Å: ‚Ä¶¬ª –∏–ª–∏ —Å—É–º–º–∞—Ä–∏–∑–∞—Ü–∏—è —Å—Ç–∞—Ä—ã—Ö —Ä–µ–ø–ª–∏–∫).
- –°–±—Ä–æ—Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞:
  - –ü–æ –∫–æ–º–∞–Ω–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: –Ω–∞–ø—Ä–∏–º–µ—Ä, `/clear` –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ ¬´–ù–∞—á–∞—Ç—å –∑–∞–Ω–æ–≤–æ¬ª ‚Äî –æ—á–∏—Å—Ç–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–ª—è —ç—Ç–æ–≥–æ `chat_id`.
  - –ü–æ —Ç–∞–π–º–∞—É—Ç—É: –Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ 30‚Äì60 –º–∏–Ω—É—Ç –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ —á–∞—Ç–µ ‚Äî —Å–±—Ä–æ—Å–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –¥–ª—è —ç—Ç–æ–≥–æ —á–∞—Ç–∞.
- –•—Ä–∞–Ω–∏–ª–∏—â–µ: in-memory dict (chat_id ‚Üí —Å–ø–∏—Å–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π) —Å TTL –∏–ª–∏ –ø—Ä–æ—Å—Ç–æ–π persistence (SQLite/—Ñ–∞–π–ª) –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –ø—Ä–æ—Ü–µ—Å—Å–∞.

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:** –Ω–µ —Ä–∞–∑–¥—É–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç LLM (–ª–∏–º–∏—Ç —Ç–æ–∫–µ–Ω–æ–≤), –Ω–µ —Ö—Ä–∞–Ω–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –±–µ—Å–∫–æ–Ω–µ—á–Ω–æ ‚Äî —Ç–æ–ª—å–∫–æ –æ–∫–Ω–æ –∏–ª–∏ —Å—É–º–º–∞—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** —Å—Ä–µ–¥–Ω–∏–π (—É–ª—É—á—à–∞–µ—Ç –∫–∞—á–µ—Å—Ç–≤–æ –¥–∏–∞–ª–æ–≥–∞, –Ω–æ —É—Å–ª–æ–∂–Ω—è–µ—Ç –ª–æ–≥–∏–∫—É –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ).

---

## 6. –û—Ç–≤–µ—Ç –≤ —Ä–µ–∞–ª—Ç–∞–π–º–µ (streaming)

**–¶–µ–ª—å:** –¢–µ–∫—Å—Ç –æ—Ç–≤–µ—Ç–∞ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø–æ –º–µ—Ä–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏, –∞ –Ω–µ –æ–¥–Ω–∏–º –±–ª–æ–∫–æ–º –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è.

**–ß—Ç–æ –¥–µ–ª–∞—Ç—å:**
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å streaming API –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ (Polza/OpenAI): `stream=True` –≤ –∑–∞–ø—Ä–æ—Å–µ –∫ chat completions.
- –í –±–æ—Ç–µ (aiogram): –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ –º–µ—Ä–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è —á–∞–Ω–∫–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ä–∞–∑ –≤ 1‚Äì2 –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –∏–ª–∏ –ø–æ —Ç–∞–π–º–µ—Ä—É 500‚Äì800 –º—Å), —á—Ç–æ–±—ã –Ω–µ —Å–ø–∞–º–∏—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è–º–∏. –õ–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å ¬´–ø–µ—á–∞—Ç–∞–µ—Ç‚Ä¶¬ª –∏ –∑–∞—Ç–µ–º –æ–¥–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ ‚Äî –Ω–æ —Ç–æ–≥–¥–∞ ¬´—Ä–µ–∞–ª—Ç–∞–π–º¬ª —Ç–æ–ª—å–∫–æ –≤–∏–∑—É–∞–ª—å–Ω–æ –≤ –≤–∏–¥–µ –∑–∞–¥–µ—Ä–∂–∫–∏. –ü–æ–ª–Ω—ã–π —Ä–µ–∞–ª—Ç–∞–π–º = —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è —Å –Ω–∞—Ä–∞—Å—Ç–∞—é—â–∏–º —Ç–µ–∫—Å—Ç–æ–º.
- –í Mini App: —á–µ—Ä–µ–∑ WebSocket –∏–ª–∏ streaming HTTP –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø—Ä–∏—Ö–æ–¥—è—â–∏–π —Ç–µ–∫—Å—Ç –≤ UI –ø–æ –º–µ—Ä–µ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏—è.
- –£—á–µ—Å—Ç—å –ª–∏–º–∏—Ç—ã Telegram: —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è –Ω–µ —á–∞—â–µ —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É (—Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è), –¥–ª–∏–Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è ‚Äî –¥–æ 4096 —Å–∏–º–≤–æ–ª–æ–≤; –ø—Ä–∏ –¥–ª–∏–Ω–Ω–æ–º –æ—Ç–≤–µ—Ç–µ ‚Äî —Ä–∞–∑–±–∏—Ç—å –Ω–∞ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π –∏–ª–∏ –æ–±—Ä–µ–∑–∞—Ç—å —Å ¬´–ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –Ω–∏–∂–µ¬ª.

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç:** —Å—Ä–µ–¥–Ω–∏–π (—Å–∏–ª—å–Ω–æ —É–ª—É—á—à–∞–µ—Ç –æ—â—É—â–µ–Ω–∏–µ –æ—Ç–∫–ª–∏–∫–∞, –Ω–æ —Ç—Ä–µ–±—É–µ—Ç –∞–∫–∫—É—Ä–∞—Ç–Ω–æ–π —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –ø–æ–¥ –ª–∏–º–∏—Ç—ã Telegram).

---

## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| # | –ó–∞–¥–∞—á–∞ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°–ª–æ–∂–Ω–æ—Å—Ç—å | –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ |
|---|--------|-----------|-----------|-------------|
| 1 | Telegram Mini App | –í—ã—Å–æ–∫–∏–π | –í—ã—Å–æ–∫–∞—è | –ë—ç–∫–µ–Ω–¥ API, –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è |
| 2 | –ü—Ä–∏—è—Ç–Ω—ã–π UI | –í—ã—Å–æ–∫–∏–π | –°—Ä–µ–¥–Ω—è—è | Mini App –∏–ª–∏ —á–∞—Ç |
| 3 | –õ–∞–π–∫ / –¥–∏–∑–ª–∞–π–∫ | –í—ã—Å–æ–∫–∏–π | –ù–∏–∑–∫–∞—è | ‚Äî |
| 4 | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ | –í—ã—Å–æ–∫–∏–π | –ù–∏–∑–∫–∞—è | ‚Äî |
| 5 | –ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ —á–∞—Ç—É + —Å–±—Ä–æ—Å | –°—Ä–µ–¥–Ω–∏–π | –°—Ä–µ–¥–Ω—è—è | –•—Ä–∞–Ω–∏–ª–∏—â–µ –∏—Å—Ç–æ—Ä–∏–∏ |
| 6 | –û—Ç–≤–µ—Ç –≤ —Ä–µ–∞–ª—Ç–∞–π–º–µ (streaming) | –°—Ä–µ–¥–Ω–∏–π | –°—Ä–µ–¥–Ω—è—è | –ü–æ–¥–¥–µ—Ä–∂–∫–∞ stream –≤ API |

---

## –ü—Ä–µ–¥–ª–∞–≥–∞–µ–º—ã–π –ø–æ—Ä—è–¥–æ–∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

1. **–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏** ‚Äî –±—ã—Å—Ç—Ä–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è, –æ—Å–Ω–æ–≤–∞ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –º–µ—Ç—Ä–∏–∫.
2. **–õ–∞–π–∫ / –¥–∏–∑–ª–∞–π–∫** ‚Äî –ø—Ä–æ—Å—Ç–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –∏ –¥–∞–Ω–Ω—ã–µ –¥–ª—è –æ—Ü–µ–Ω–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞.
3. **–ü—Ä–∏—è—Ç–Ω—ã–π UI –≤ —á–∞—Ç–µ** ‚Äî —É–ª—É—á—à–µ–Ω–∏–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –∫–Ω–æ–ø–æ–∫ –±–µ–∑ —Å–º–µ–Ω—ã –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã.
4. **–ö–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ —á–∞—Ç—É –∏ —Å–±—Ä–æ—Å** ‚Äî —É–ª—É—á—à–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞ –≤ —Ç–µ–∫—É—â–µ–º –±–æ—Ç–µ.
5. **Streaming –æ—Ç–≤–µ—Ç–æ–≤** ‚Äî —Ä–µ–∞–ª—Ç–∞–π–º –≤ —á–∞—Ç–µ.
6. **Mini App + UI –≤ Mini App** ‚Äî –≤—ã–Ω–æ—Å –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Å—Ü–µ–Ω–∞—Ä–∏—è –≤ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –±–æ–≥–∞—Ç—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º.

–ü–æ—Å–ª–µ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–ª–∞–Ω–∞ –º–æ–∂–Ω–æ —Ä–∞–∑–±–∏—Ç—å –∫–∞–∂–¥—ã–π –ø—É–Ω–∫—Ç –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∑–∞–¥–∞—á–∏ (—Ç–∏–∫–µ—Ç—ã) –∏ –æ—Ü–µ–Ω–∫–∏ –ø–æ –≤—Ä–µ–º–µ–Ω–∏.
